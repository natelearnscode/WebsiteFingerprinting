/**
 * FingerprintJS Pro v3.6.1 - Copyright (c) FingerprintJS, Inc, 2022 (https://fingerprintjs.com)
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */

import{__rest as e,__assign as t}from"tslib";function r(e){for(var t="",r=0;r<e.length;++r)if(r>0){var n=e[r].toLowerCase();n!==e[r]?t+=" "+n:t+=e[r]}else t+=e[r].toUpperCase();return t}var n="Client timeout",o="Network connection error",i="Network request aborted",R="Response cannot be parsed",a=r("WrongRegion"),d=r("SubscriptionNotActive"),s=r("UnsupportedVersion"),u=r("InstallationMethodRestricted"),E="API key required",l="API key not found",_="API key expired",c="Request cannot be parsed",I="Request failed",O="Request failed to process",p="Too many requests, rate limit exceeded",f="Not available for this origin",N="Not available with restricted header",A="API key required",v="API key not found",T="API key expired";function y(e,t,r){return void 0===r&&(r=0),t(r).catch((function(n){if(r>=e.maxRetries)throw n;var o,i,R,a,d=(o=e.baseDelay,i=e.maxDelay,R=e.baseDelay*Math.pow(2,r),Math.max(o,Math.min(i,R)));return(a=d,new Promise((function(e){return setTimeout(e,a)}))).then((function(){return y(e,t,r+1)}))}))}var P="Failed to load the JS script of the agent",h="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js";function m(r){var n=r.scriptUrlPattern,o=r.token,i=r.apiKey,R=void 0===i?o:i,a=e(r,["scriptUrlPattern","token","apiKey"]),d=[];return Promise.resolve().then((function(){if(!R||"string"!=typeof R)throw new Error("API key required");return y({maxRetries:5,baseDelay:100,maxDelay:3e3},(function(){var e,t=new Date,r=function(){return d.push({startedAt:t,finishedAt:new Date})},o=(e=function(e,t){void 0===t&&(t=h);var r=encodeURIComponent;return t.replace(/<[^<>]+>/g,(function(t){return"<version>"===t?"3":"<apiKey>"===t?r(e):"<loaderVersion>"===t?r("3.6.1"):t}))}(R,n),new Promise((function(t,r){var n=document.createElement("script"),o=function(){var e;return null===(e=n.parentNode)||void 0===e?void 0:e.removeChild(n)},i=document.head||document.getElementsByTagName("head")[0];n.onload=function(){o(),t()},n.onerror=function(){o(),r(new Error(P))},n.async=!0,n.src=e,i.appendChild(n)})));return o.then(r,r),o}))})).then((function(){var e=window,r="__fpjs_p_l_b",n=e[r];if(function(e,t){var r,n=null===(r=Object.getOwnPropertyDescriptor)||void 0===r?void 0:r.call(Object,e,t);(null==n?void 0:n.configurable)?delete e[t]:n&&!n.writable||(e[t]=void 0)}(e,r),"function"!=typeof(null==n?void 0:n.load))throw new Error(P);return n.load(t(t({},a),{ldi:{attempts:d}}))}))}var D={load:m,ERROR_SCRIPT_LOAD_FAIL:P,ERROR_API_KEY_EXPIRED:"API key expired",ERROR_API_KEY_INVALID:"API key not found",ERROR_API_KEY_MISSING:"API key required",ERROR_BAD_REQUEST_FORMAT:"Request cannot be parsed",ERROR_BAD_RESPONSE_FORMAT:"Response cannot be parsed",ERROR_CLIENT_TIMEOUT:"Client timeout",ERROR_FORBIDDEN_HEADER:"Not available with restricted header",ERROR_FORBIDDEN_ORIGIN:"Not available for this origin",ERROR_GENERAL_SERVER_FAILURE:"Request failed",ERROR_INSTALLATION_METHOD_RESTRICTED:u,ERROR_NETWORK_ABORT:"Network request aborted",ERROR_NETWORK_CONNECTION:"Network connection error",ERROR_RATE_LIMIT:"Too many requests, rate limit exceeded",ERROR_SERVER_TIMEOUT:"Request failed to process",ERROR_SUBSCRIPTION_NOT_ACTIVE:d,ERROR_TOKEN_EXPIRED:"API key expired",ERROR_TOKEN_INVALID:"API key not found",ERROR_TOKEN_MISSING:"API key required",ERROR_UNSUPPORTED_VERSION:s,ERROR_WRONG_REGION:a};export default D;export{_ as ERROR_API_KEY_EXPIRED,l as ERROR_API_KEY_INVALID,E as ERROR_API_KEY_MISSING,c as ERROR_BAD_REQUEST_FORMAT,R as ERROR_BAD_RESPONSE_FORMAT,n as ERROR_CLIENT_TIMEOUT,N as ERROR_FORBIDDEN_HEADER,f as ERROR_FORBIDDEN_ORIGIN,I as ERROR_GENERAL_SERVER_FAILURE,u as ERROR_INSTALLATION_METHOD_RESTRICTED,i as ERROR_NETWORK_ABORT,o as ERROR_NETWORK_CONNECTION,p as ERROR_RATE_LIMIT,P as ERROR_SCRIPT_LOAD_FAIL,O as ERROR_SERVER_TIMEOUT,d as ERROR_SUBSCRIPTION_NOT_ACTIVE,T as ERROR_TOKEN_EXPIRED,v as ERROR_TOKEN_INVALID,A as ERROR_TOKEN_MISSING,s as ERROR_UNSUPPORTED_VERSION,a as ERROR_WRONG_REGION,m as load};
